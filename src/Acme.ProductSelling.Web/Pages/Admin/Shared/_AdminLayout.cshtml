@using Volo.Abp.AspNetCore.Mvc.UI.Theme.Shared;
@using Volo.Abp.AspNetCore.Mvc.UI.Theme.Basic.Bundling;
@using Volo.Abp.AspNetCore.Mvc.UI.Theme.LeptonXLite;
@using Volo.Abp.AspNetCore.Mvc.UI.Theme.LeptonXLite.Bundling;
@using Volo.Abp.AspNetCore.Mvc.UI.Theme.LeptonXLite.Languages;
@using Acme.ProductSelling.Web.Themes.LeptonXLite.Components.Toolbar.LanguageSwitch
@using Acme.ProductSelling.Permissions
@using Volo.Abp.Users
@using Volo.Abp.AspNetCore.Mvc.UI.RazorPages
@using Volo.Abp.AspNetCore.Mvc.UI.Bundling
@using Volo.Abp.UI.Navigation
@using Acme.ProductSelling.Web.Pages.Admin.Shared.Components.Header
@using Acme.ProductSelling.Web.Pages.Admin.Shared.Components.Menu
@inject ICurrentUser CurrentUser
@inject IAuthorizationService AuthorizationService
@inject IMenuManager MenuManager



<!DOCTYPE html>
<html lang="@CultureInfo.CurrentUICulture.Name">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>@ViewBag.Title - Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" 
                            integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" 
                            crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="~/favicon.svg" rel="icon" type="image/svg+xml" />
    <link href="~/libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <abp-style-bundle name="@LeptonXLiteThemeBundles.Styles.Global" />
    
    <abp-style-bundle name="Admin.Global" />

    @await RenderSectionAsync("styles", required: false)

    <style>
        .c-breadcrumb {
            /* Set the font size to be slightly smaller than the main text. */
            font-size: 14px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        .c-breadcrumb__list {
            list-style: none; /* [1] */
            margin: 0; /* [1] */
            padding: 0; /* [1] */
            display: flex; /* [2] */
            align-items: center; /* Vertically centers the items and separators */
        }

        /* Style each individual breadcrumb item */
        .c-breadcrumb__item {
            display: inline-flex;
            align-items: center;
        }

            .c-breadcrumb__item:not(:first-child)::before {
                content: '›'; 
                margin: 0 0.6em;
                color: #8894a4; 
            }

        /* Styling for the breadcrumb links */
        .c-breadcrumb__link {
            color: #ffeeff;
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }

            /* Add an underline on hover for better user feedback */
            .c-breadcrumb__link:hover,
            .c-breadcrumb__link:focus {
                color: #eeffee;
                text-decoration: underline;
            }

        .c-breadcrumb__text {
            color: #7396e6;
            font-weight: 600;
        }
    </style>
</head>
<body class="preload">
    <script>
        (function() {
            const savedState = localStorage.getItem('sidebarCollapsed');
            if (savedState === 'true') {
                const style = document.createElement('style');
                style.id = 'sidebar-preload-style';
                style.textContent = `
                    .sidebar {
                        left: -280px !important;
                        transition: none !important;
                    }
                    .main-content {
                        margin-left: 20px !important;
                        transition: none !important;
                    }
                    @@media (max-width: 768px) {
                        .sidebar { left: -280px !important; }
                        .main-content { margin-left: 20px !important; }
                    }
                `;
                document.head.appendChild(style);
            }
        })();
    </script>
    <!-- Main Content -->
    @await Component.InvokeAsync(typeof(HeaderViewComponent))
    <!-- Sidebar -->
    @await Component.InvokeAsync(typeof(MainNavbarMenuViewComponent))
 

    <!-- Main Content Area -->
    <main class="main-content" id="mainContent">
        @if (IsSectionDefined("content_toolbar"))
        {
            <div class="content-toolbar mb-3">
                @RenderSection("content_toolbar", required: false)
            </div>
        }
        @RenderBody()
    </main>


    <script src="~/libs/abp/core/abp.js"></script>
    <abp-script-bundle name="@LeptonXLiteThemeBundles.Scripts.Global" />
    <abp-script-bundle name="Admin.Global" />
    <script src="~/Abp/ServiceProxyScript" asp-append-version="true"></script>
    <script src="~/Abp/ApplicationLocalizationScript?cultureName=@CultureInfo.CurrentUICulture.Name"></script>
    <script src="~/Abp/ApplicationConfigurationScript" asp-append-version="true"></script>

    @await RenderSectionAsync("scripts", required: false)

</body>
</html>

