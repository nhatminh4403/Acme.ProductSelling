@model Acme.ProductSelling.Web.Models.RecentlyViewedViewModel

<!-- Remove margin Y classes, use styles defined in CSS for spacing -->
<div class="recently-viewed-wrapper rounded"
     id="recently-viewed-section"
     style="display: none;"
     data-max-count="@Model.MaxCount"
     data-exclude-product-id="@(Model.ExcludeProductId?.ToString() ?? "")"
     data-is-authenticated="@Model.IsAuthenticated.ToString().ToLowerInvariant()">

    <div class="container-fluid px-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h5 class="mb-0 fw-bold text-dark">
                <i class="fas fa-history me-2 text-muted"></i>@Model.Title
            </h5>
            <a href="javascript:void(0);"
               class="text-danger text-decoration-none"
               id="btn-clear-recently-viewed"
               style="font-size: 0.85rem;">
                <i class="far fa-trash-alt me-1"></i>Xóa tất cả
            </a>
        </div>

        <div id="recently-viewed-container">
            <!-- Updated Skeleton to be LANDSCAPE -->
            <div class="row g-2" id="recently-viewed-skeleton">
                @for (int i = 0; i < 6; i++)
                {
                    /* CHANGED to col-md-6 col-lg-4 */
                    <div class="col-12 col-md-6 col-lg-4">
                        <div class="d-flex align-items-center p-2 border rounded-2 bg-white h-100">
                            <!-- Left: Image Placeholder -->
                            <div class="placeholder-glow me-3" style="width: 80px; height: 80px; flex-shrink:0;">
                                <span class="placeholder w-100 h-100 rounded"></span>
                            </div>
                            <!-- Right: Text Placeholder -->
                            <div class="flex-grow-1 py-1">
                                <div class="placeholder-glow mb-2">
                                    <span class="placeholder col-12"></span>
                                    <span class="placeholder col-8"></span>
                                </div>
                                <div class="placeholder-glow">
                                    <span class="placeholder col-5 bg-secondary"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <!-- Actual Products Container -->
            <div class="row g-2" id="recently-viewed-products" style="display: none;">
                <!-- Products loaded via JS -->
            </div>
        </div>
    </div>
</div>